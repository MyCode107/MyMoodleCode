<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Testing JS File</title>
	
	<!--  Standard Moodle CSS -->
	<link rel="stylesheet" href="StandardNoBackgroundorFontSize.css">
	<!--  Font Size for Exam Style Questions  -->
<!--	<link rel="stylesheet" href="Exam Font Size.css">-->
	<!--  Font Size for non-Exam Style Questions -->
	<link rel="stylesheet" href="Normal Font Size.css">
	
	<!--  Add WH Background colour -->
<!--	<link rel="stylesheet" href="https://drive.google.com/uc?export=view&id=15ixQAKFQ88zQIHZbRt1LiKbAFoRGSCAs">-->
	<!--  Add BPP Background colour -->
<!--	<link href="https://drive.google.com/uc?export=view&id=1Prg55tAeaPWCnZF-ZsWgLndIR1D-t2pI" rel="stylesheet" type="text/css">-->
	<!--  AAT Background colour CSS -->
	<link rel="stylesheet" href="AATGreenBackground.css">
	
	<!--  jQuery Library -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!--  Common Functions JS -->
	<script	src="CommonFunctions.js"></script>
	<!--  OFR Functions JS -->
	<script	src="OFR.js"></script>
	<!--  TOTALS Functions JS -->
	<script	src="TOTALS.js"></script>
	
<script>
	
$(document).ready(function() { 

	//Create array of all input boxes in question called allBoxes - used for OFR, Totals and Groups
	getBoxes();
	
	//Deal with OFR boxes when DOM ready
	//Parameter for OFRCheck function is an array of arrays of strings giving OFR calculations - see function calculateValue for format
	//If too many arrays of strings are given, excess arrays are ignored.  If too few arrays of strings are given, latter OFR calculations are not performed and box doesn't change colour if required
	OFRCheck([["+B1","+B2",0],["+1000","+B1","+B2",0]]);
	
	
	//Deal with TOTAL boxes when DOM ready and on button click	
	// Calcaultions for Total boxes - shown separately as used twiced
	var totalCalculations = [["+B6","+B8",0],["+B7","+B9",0]];
		
	//Update totals on page loading
	updateTotals(totalCalculations);
	
	//Update totals when button clicked
	document.getElementById("updateButton").addEventListener("click", function() {updateTotals(totalCalculations);});
	
});

	
</script>

</head>
<body class="formulation">

<noscript>
    Your browser does not support JavaScript!
</noscript>
	
<p class="normalHeading">JavaScript Testing Page</p>
<p>This project is about writing Javascript code tor Moodle cloze questions that increase functionality, namely:</p>
<ul>
  <li>Highlighting answers that meet the Own Figure Rule</li>
  <li>Use of automated totals</li>
</ul>
<p>&nbsp;</p>
<p>Some question text. Additional answer formats included below to ensure code working okay.</p>
<p>A multiple choice question, choices shown vertically, answer is 99 {:MCVS:~=99~100~98}</p>
<p>A short answer question, answer is 99 {:SA:~=99}</p>
<p>&nbsp;</p>
<p class="boldLines" style="font-size: 125%;">OFR Testing</p>
<p>Figure A given in question text is <span class="boldLines">100</span> - Figure B given in question text is  <span class="boldLines">1000</span></p>
<p>Some more question text.</p>
<p>Input Value 1 - {:NM:~=99} (Answer is 99)</p>
<p>Input Value 2 - {:NM:~=99} (Answer is 99)</p>
<p>Random input box not generated by Moodle - <input class = "form-control" style="width: auto;">
 (This is to test to see if I need to refer to it in the code. Box needs to be of class &quot;form-control&quot; for display, and have auto width. Answer, include in Box count.)</p>
<p>Input Value 3 - <span class="OFR">{:NM:~=198}</span> - Answer is 198, being Input Value 1 + Input Value 2. Box should be shaded amber when marked if answer entered is 1 + 2 but NOT 198</p>
<p>Input Value 4 - <span class="OFR">{:NM:=1198}</span> - Answer is 1198, being Input Value 1 + Input Value 2 + Figure B in question of 1000. Box should be shaded amber when marked if answer entered is 1 + 2 + 1000 but NOT 1198</p>
<p>(OFR class wrapped around input code for values 3 &amp; 4)</p>
<p class="redComment">Red text to be added to questions if OFR used = &quot;Amber shaded boxes seen on completion of a question during review show whereÂ OFR marks could be awarded. Your tutor will review these and manually amend your score if needed.&quot;</p>
<p>&nbsp;</p>
<p class="boldLines" style="font-size: 125%;">Totals Testing</p>
<table border="1" class="table500">
  <tbody>
    <tr>
      <td width="34%">Value 1 - answers 99</td>
      <td width="33%"> {:NM:~=99}</td>
      <td width="33%">{:NM:~=99}</td>
    </tr>
    <tr>
      <td width="34%">Value 2 - answers 99</td>
      <td width="33%">{:NM:~=99}</td>
      <td width="33%">{:NM:~=99}</td>
    </tr>
    <tr>
      <td width="34%">TOTAL</td>
      <td width="33%"><span class="TOTAL"><input class="form-control"></span></td>
      <td width="33%"><span class="TOTAL"><input class="form-control"></span></td>
    </tr>
  </tbody>
</table>
<p>(Ensure total boxes are of class &quot;form-control&quot; for display and have TOTAL class wrapped around them.)</p>
<p>
  <input type="button" value="Update totals" id="updateButton">
</p>
<p>(Ensure button has id of 'updateButton'.)</p>
<p class="redComment">Red text to be added to questions if Totals used = &quot;The auto sum total boxes seen in AAT exams have been replicated in this question as green shaded boxes. These boxes carry no marks and can be updated by clicking the button above.&quot;</p>
<p>&nbsp;</p>
<p class="boldLines">End</p>
</body>
</html>